<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="demo-styles.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer@3.4.0/dist/model-viewer.min.js"></script>
</head>

<style>
    model-viewer {
        margin: 150px auto 75px;
        display: block;
        width: 1000px;
        height: 1000px;
    }

    .ar-button {
        background-color: white;
        border-radius: 4px;
        border: none;
        position: absolute;
        top: 16px;
        right: 16px;
        padding: 10px;
        cursor: pointer;
        z-index: 10; /* –ü–æ–¥–Ω–∏–º–∞–µ–º –Ω–∞–¥ –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
    }

    .play-animation-button {
        background-color: white;
        border-radius: 4px;
        border: none;
        position: absolute;
        bottom: 16px;
        left: 50%;
        transform: translateX(-50%);
        padding: 10px;
        cursor: pointer;
        display: none; /* –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        z-index: 10; /* –ü–æ–¥–Ω–∏–º–∞–µ–º –Ω–∞–¥ –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
    }
</style>

<body style="margin: 0px; overflow: hidden;">

    <model-viewer id="modelViewer" ar camera-controls touch-action="pan-y" src="instal.glb" alt="A 3D model of an astronaut" autoplay>
        <button slot="ar-button" class="ar-button">
            üëã Activate AR
        </button>
    </model-viewer>

    <button class="play-animation-button" id="playAnimationButton">
        ‚ñ∂Ô∏è Play Animation
    </button>

    <script>
        const modelViewer = document.getElementById('modelViewer');
        const playAnimationButton = document.getElementById('playAnimationButton');

        // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–∏
        modelViewer.addEventListener('load', () => {
            modelViewer.play();
        });

        // –ó–∞—Ü–∏–∫–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
        modelViewer.addEventListener('animation-finished', () => {
            modelViewer.play();
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ AR
        modelViewer.addEventListener('enter-ar', () => {
            console.log('Entered AR mode');
            playAnimationButton.style.display = 'block'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        });

        // –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É, –∫–æ–≥–¥–∞ –≤—ã –≤—ã—Ö–æ–¥–∏—Ç–µ –∏–∑ AR
        modelViewer.addEventListener('exit-ar', () => {
            console.log('Exited AR mode');
            playAnimationButton.style.display = 'none'; // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
        playAnimationButton.addEventListener('click', () => {
            modelViewer.play(); // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏
            console.log('Animation started'); // –õ–æ–≥–∏—Ä—É–µ–º –∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
        });
    </script>

</body>
</html>
